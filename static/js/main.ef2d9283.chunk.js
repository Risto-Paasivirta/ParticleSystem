(this.webpackJsonpeditor=this.webpackJsonpeditor||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(18),c=n.n(i),o=n(19),s=n(7),l=n(4),u=n(8),d=n(15),f=n.n(d),h=(n(28),n(29),n(30),n(31),n(32),n(0)),p=function(e){var t=e.value,n=e.name,a=e.propertyInfo,r=e.onChange,i=a.tooltip,c=a.min,o=a.max,s=a.step;return Object(h.jsxs)("div",{className:"number-layout field",children:[Object(h.jsx)("span",{className:"number-name",title:i,children:n}),Object(h.jsx)("input",{className:"number-field",type:"number",value:t,min:c,max:o,step:s,onChange:function(e){var t;try{t=Number(e.target.value)}catch(e){console.warn("NumberProperty could not parse Number")}r(t)}})]})},m=(n(34),function(e){var t=e.value,n=e.name,a=e.onChange;return Object(h.jsxs)("div",{className:"field position-div",children:[Object(h.jsx)("span",{title:n,children:n}),Object(h.jsxs)("div",{className:"position-child-div",children:[Object(h.jsx)("span",{children:"X"}),Object(h.jsx)("input",{className:"position-number-field",type:"number",value:t.x,step:10,onChange:function(e){var n;try{n=Number(e.target.value)}catch(e){console.warn("positionProperty could not parse Number (min)")}a({x:n,y:t.y})}})]}),Object(h.jsxs)("div",{className:"position-child-div",children:[Object(h.jsx)("span",{children:"Y"}),Object(h.jsx)("input",{className:"position-number-field",type:"number",value:t.y,step:10,onChange:function(e){var n;try{n=Number(e.target.value)}catch(e){console.warn("positionProperty could not parse Number (max)")}a({x:t.x,y:n})}})]})]})}),b=(n(35),function(e){var t=e.value,n=e.name,a=e.propertyInfo,r=e.onChange,i=a.tooltip,c=a.min,o=a.max,s=a.step;return Object(h.jsxs)("div",{className:"field range-div",children:[Object(h.jsx)("span",{title:i,children:n}),Object(h.jsxs)("div",{className:"range-child-div",children:[Object(h.jsx)("span",{children:"min"}),Object(h.jsx)("input",{className:"range-number-field",type:"number",value:t.min,min:c,max:o,step:s,onChange:function(e){var n;try{n=Number(e.target.value)}catch(e){console.warn("RangeProperty could not parse Number (min)")}r({min:n,max:t.max})}})]}),Object(h.jsxs)("div",{className:"range-child-div",children:[Object(h.jsx)("span",{children:"max"}),Object(h.jsx)("input",{className:"range-number-field",type:"number",value:t.max,min:c,max:o,step:s,onChange:function(e){var n;try{n=Number(e.target.value)}catch(e){console.warn("RangeProperty could not parse Number (max)")}r({min:t.min,max:n})}})]})]})}),v=(n(36),function(e){var t=e.value,n=e.name,a=(e.propertyInfo,e.onChange),r=function(e){return e>255?255:e<0?0:e};return Object(h.jsxs)("div",{className:"colorPalette-div field",children:[Object(h.jsx)("span",{children:n}),Object(h.jsxs)("div",{className:"colorPalette-nested-div",children:[t.length>0&&Object(h.jsxs)("table",{className:"colorPalette-table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"r"}),Object(h.jsx)("th",{children:"g"}),Object(h.jsx)("th",{children:"b"})]})}),Object(h.jsx)("tbody",{children:t.map((function(e,n){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("input",{className:"colorPalette-number-field",type:"number",value:255*e.r,min:0,max:255,step:1,onChange:function(e){var r;try{e.target.value>255&&(e.target.value=255),e.target.value<0&&(e.target.value=0),r=Number(e.target.value)/255}catch(e){console.warn("ColorPaletteProperty could not parse Number")}var i=Object(s.a)(t);i[n]=Object(l.a)(Object(l.a)({},i[n]),{},{r:r}),a(i)}})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{className:"colorPalette-number-field",type:"number",value:255*e.g,min:0,max:255,step:1,onChange:function(e){var i;try{i=r(Number(e.target.value))/255}catch(e){console.warn("ColorProperty could not parse Number")}var c=Object(s.a)(t);c[n]=Object(l.a)(Object(l.a)({},c[n]),{},{g:i}),a(c)}})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{className:"colorPalette-number-field",type:"number",value:255*e.b,min:0,max:255,step:1,onChange:function(e){var i;try{i=r(Number(e.target.value))/255}catch(e){console.warn("ColorProperty could not parse Number")}var c=Object(s.a)(t);c[n]=Object(l.a)(Object(l.a)({},c[n]),{},{b:i}),a(c)}})}),Object(h.jsx)("td",{children:Object(h.jsx)("div",{className:"colorPalette-remove-color",onClick:function(){var e=Object(s.a)(t);e.splice(n,1),a(e)}})})]},"row-color-".concat(n))}))})]}),Object(h.jsx)("div",{className:"colorPalette-add-color",onClick:function(){var e=[].concat(Object(s.a)(t),[{r:1,g:1,b:1}]);a(e)}})]})]})}),j=(n(37),function(e){var t=e.name,n=e.value,r=e.onChange,i=Object(a.useContext)(ge).easingFunctions;return Object(h.jsxs)("div",{className:"easingFunction-div field",children:[Object(h.jsx)("span",{className:"easingFunction-name",children:t}),Object(h.jsx)("select",{className:"easingFunction-dropdown",value:n,onChange:function(e){var t=e.target.value;r(t)},children:i.map((function(e){return Object(h.jsx)("option",{className:"easingFunction-option",children:e},e)}))})]})}),y=(n(38),function(e){var t=e.name;e.propertyInfo,e.onChange;return Object(h.jsxs)("div",{className:"shape-div field",children:[Object(h.jsx)("span",{children:t}),Object(h.jsx)("span",{children:"Shape*"})]})}),O=(n(39),function(e){var t=e.value,n=e.name,a=(e.propertyInfo,e.onChange);return Object(h.jsxs)("div",{className:"burstListProperty-div field",children:[Object(h.jsx)("span",{children:n}),Object(h.jsxs)("div",{className:"burstListProperty-nested-div",children:[t.length>0&&Object(h.jsxs)("table",{className:"burstListProperty-table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"time"}),Object(h.jsx)("th",{children:"count"}),Object(h.jsx)("th",{children:"repeat"})]})}),Object(h.jsx)("tbody",{children:t.sort((function(e,t){return e.time-t.time})).map((function(e,n){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("input",{className:"burstListProperty-number-field",type:"number",value:e.time,min:0,step:.5,onChange:function(e){var r;try{r=Number(e.target.value)}catch(e){console.warn("BurstListProperty could not parse Number")}var i=Object(s.a)(t);i[n]=Object(l.a)(Object(l.a)({},i[n]),{},{time:r}),a(i)}})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{className:"burstListProperty-number-field",type:"number",value:e.count,min:0,step:10,onChange:function(e){var r;try{r=Number(e.target.value)}catch(e){console.warn("BurstListProperty could not parse Number")}var i=Object(s.a)(t);i[n]=Object(l.a)(Object(l.a)({},i[n]),{},{count:r}),a(i)}})}),Object(h.jsx)("td",{children:Object(h.jsx)("input",{className:"burstListProperty-number-field",type:"number",value:void 0!==e.repeat?e.repeat:0,min:0,step:.5,onChange:function(e){var r;try{0===(r=Number(e.target.value))&&(r=void 0)}catch(e){console.warn("BurstListProperty could not parse Number")}var i=Object(s.a)(t);i[n]=Object(l.a)(Object(l.a)({},i[n]),{},{repeat:r}),a(i)}})}),Object(h.jsx)("td",{children:Object(h.jsx)("div",{className:"burstListProperty-remove-burst",onClick:function(){var e=Object(s.a)(t);e.splice(n,1),a(e)}})})]},"burst-row-".concat(n))}))})]}),Object(h.jsx)("div",{className:"burstListProperty-add-burst",onClick:function(){var e=[].concat(Object(s.a)(t),[{time:0,count:20,repeat:void 0}]);a(e)}})]})]})}),x=(n(40),function(e){var t=e.value,n=e.name,a=(e.propertyInfo,e.onChange);return Object(h.jsxs)("div",{className:"boolean-div field",children:[Object(h.jsx)("span",{children:n}),Object(h.jsx)("input",{className:"boolean-field",checked:t,type:"checkbox",onChange:function(e){a(e.target.checked)}})]})}),g=function(e){var t=e.propertyInfo,n=e.nKey;switch(t.type){case"Number":return Object(a.createElement)(p,Object(l.a)(Object(l.a)({},e),{},{key:n}));case"Position":return Object(a.createElement)(m,Object(l.a)(Object(l.a)({},e),{},{key:n}));case"Range":return Object(a.createElement)(b,Object(l.a)(Object(l.a)({},e),{},{key:n}));case"Color[]":return Object(a.createElement)(v,Object(l.a)(Object(l.a)({},e),{},{key:n}));case"EasingFunction":return Object(a.createElement)(j,Object(l.a)(Object(l.a)({},e),{},{key:n}));case"Shape":return Object(a.createElement)(y,Object(l.a)(Object(l.a)({},e),{},{key:n}));case"Burst[]":return Object(a.createElement)(O,Object(l.a)(Object(l.a)({},e),{},{key:n}));case"Boolean":return Object(a.createElement)(x,Object(l.a)(Object(l.a)({},e),{},{key:n}));default:throw new Error("Unidentified module property type: ".concat(t.type))}},P=function(e){var t=e.module,n=e.nKey,r=e.updateModule,i=e.removeModule,c=Object(a.useContext)(ge).particleModules,o=c.find((function(e){return e.moduleTypeId===t.moduleTypeId}));if(!o)throw new Error("Unidentified module: ".concat(t.moduleTypeId));return Object(h.jsxs)("div",{className:"module",children:[Object(h.jsxs)("div",{className:"module-title-layout field",children:[Object(h.jsx)("select",{className:"module-typeDropdown",value:t.moduleTypeId,onChange:function(e){var t=e.target.value;r({moduleTypeId:t})},children:c.sort((function(e,t){return e.moduleTypeId.localeCompare(t.moduleTypeId)})).map((function(e,t){return Object(h.jsx)("option",{value:e.moduleTypeId,children:e.moduleTypeId},"module-".concat(t))}))}),Object(h.jsx)("div",{className:"module-remove",onClick:function(){return i()}})]}),Object(h.jsx)("div",{className:"module-properties",children:Object.entries(o.properties).map((function(e,a){var i=Object(u.a)(e,2),c=i[0],o=i[1];return Object(h.jsx)(g,{name:c,value:t[c],propertyInfo:o,nKey:"".concat(n,"_property").concat(a),onChange:function(e){var n=Object(l.a)({},t);n[c]=e,r(n)}},"".concat(n,"_property").concat(a))}))})]})},T=(n(41),function(e){var t=e.selectedTextures,n=e.updateTextures,r=Object(a.useContext)(ge).availableTextures;return Object(h.jsx)("select",{className:"textureSelector-dropdown field",onChange:function(e){var t=e.target.value;n([t])},value:t[0],children:Object.entries(r).sort((function(e,t){return e[0].localeCompare(t[0])})).map((function(e,t){var n=Object(u.a)(e,2),a=n[0];n[1];return Object(h.jsx)("option",{className:"textureSelector-option",children:a},"texture-".concat(t))}))})}),N=function(e){var t=e.effect,n=e.title,r=e.nKey,i=e.updateEffect,c=e.removeEffect,o=Object(a.useContext)(ge).particleModules;return Object(h.jsxs)("div",{className:"effect",children:[Object(h.jsxs)("div",{className:"effect-titleDiv",children:[Object(h.jsx)("span",{className:"effect-title",children:n}),Object(h.jsx)("div",{className:"effect-remove",onClick:function(){c()}})]}),Object(h.jsxs)("div",{className:"effect-properties",children:[Object(h.jsx)(T,{selectedTextures:t.textures,updateTextures:function(e){var n=Object(l.a)(Object(l.a)({},t),{},{textures:e});i(n)}}),Object(h.jsxs)("div",{className:"effect-addModuleDiv field",onClick:function(){var e={moduleTypeId:o[0].moduleTypeId},n=Object(l.a)({},t);n.modules.unshift(e),i(n)},children:[Object(h.jsx)("div",{className:"effect-addModule"}),Object(h.jsx)("span",{children:"Add module"})]}),t.modules.map((function(e,n){return Object(h.jsx)(P,{module:e,nKey:"".concat(r,"_module").concat(n),updateModule:function(e){var a=Object(l.a)({},t);a.modules[n]=e,i(a)},removeModule:function(){var n=Object(l.a)({},t);n.modules.splice(n.modules.indexOf(e),1),i(n)}},"".concat(r,"_module").concat(n))}))]})]})},k=function(e){var t=e.effects,n=e.updateEffects;return Object(h.jsxs)("div",{className:"effectsConfigurationPanel",children:[Object(h.jsxs)("div",{className:"effectsConfigurationPanel-addDiv field",onClick:function(){var e=Object(s.a)(t);e.unshift({textures:["generic/ball.png"],modules:[]}),n(e)},children:[Object(h.jsx)("div",{className:"effectsConfigurationPanel-add"}),"Add effect"]}),Object(h.jsx)("span",{className:"effectsConfigurationPanel-titleEffects"}),t.map((function(e,a){return Object(h.jsx)(N,{effect:e,title:"Effect ".concat(a+1),nKey:"effect".concat(a),updateEffect:function(e){var r=Object(s.a)(t);r[a]=e,n(r)},removeEffect:function(){var a=Object(s.a)(t);a.splice(a.indexOf(e),1),n(a)}},"effect".concat(a))})),Object(h.jsx)("div",{className:"effectsConfigurationPanel-footer"})]})},M=(n(42),function(e){var t=e.restart,n=e.saveToFile,r=e.loadFromFile,i=e.loadPreset,c=Object(a.useContext)(ge).presetEffects,o=Object(a.useState)(!1),s=Object(u.a)(o,2),l=s[0],d=s[1];return Object(h.jsxs)("div",{className:"projectToolbar",children:[Object(h.jsx)("div",{className:"projectToolbar-gap"}),Object(h.jsxs)("div",{className:"projectToolBar-buttons",children:[Object(h.jsx)("div",{className:"projectToolbar-buttonDiv projectToolbar-restart",onClick:function(){return t()},children:Object(h.jsx)("span",{className:"projectToolbar-button",children:"Restart"})}),Object(h.jsx)("div",{className:"projectToolbar-buttonDiv projectToolbar-saveToFile",onClick:function(){return n()},children:Object(h.jsx)("span",{className:"projectToolbar-button",children:"Save to file"})}),Object(h.jsxs)("div",{className:"projectToolbar-buttonDiv projectToolbar-loadPreset",onClick:function(){d(!l)},children:[Object(h.jsx)("span",{className:"projectToolbar-button",children:"Load preset"}),Object(h.jsx)("div",{className:"projectToolbar-preset-container".concat(l?" projectToolbar-preset-container-visible":""),children:l&&c.map((function(e,t){return Object(h.jsxs)("div",{className:"projectToolBar-preset-item",onClick:function(){i(e.data),d(!1)},children:[Object(h.jsx)("div",{className:"projectToolBar-preset-thumbnail",style:{backgroundImage:e.thumbnail&&"url(presetThumbnails/".concat(e.thumbnail,")")}}),Object(h.jsx)("span",{className:"projectToolBar-preset-label",children:e.label})]},"preset-".concat(t))}))})]}),Object(h.jsx)("div",{className:"projectToolbar-buttonDiv projectToolbar-loadFromFile",onClick:function(){return r()},children:Object(h.jsx)("span",{className:"projectToolbar-button",children:"Load from file"})})]}),Object(h.jsx)("div",{className:"projectToolbar-gap"})]})}),I=(n(43),n(9)),w=n(2),E=n(3),C=n(6),S=n(5),L=function(){function e(t){Object(w.a)(this,e),this.active=!0,this.particleEffect=t}return Object(E.a)(e,[{key:"init",value:function(){}},{key:"update",value:function(e){}}]),e}(),A=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"update",value:function(e){for(var t=this.particleEffect.particles.length,n=0;n<t;n+=1){var a=this.particleEffect.particles[n];a.alpha<=0&&this.particleEffect.destroyParticle(a)}}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId}}}],[{key:"fromObject",value:function(e,t,a){return new n(e)}}]),n}(L);A.moduleTypeId="AlphaDestructor";var R=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"update",value:function(e){for(var t=this.particleEffect.particles.length,n=0;n<t;n+=1){var a=this.particleEffect.particles[n];a.timeLived>=a.lifeTime&&this.particleEffect.destroyParticle(a)}}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId}}}],[{key:"fromObject",value:function(e,t,a){return new n(e)}}]),n}(L);R.moduleTypeId="LifeTimeDestructor";var D=function(e,t,n,a,r,i){var c=e[a];if(void 0!==c){var o=r(c);void 0!==o?n[a]=o:i||console.warn("Module property could not be deserialized ".concat(t.moduleTypeId,': "').concat(a,'"'))}else i||console.warn("Missing module property ".concat(t.moduleTypeId,': "').concat(a,'"'))},F=function(e){return e},B=function(e,t,n){return e*(1-n)+t*n},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(n,Math.max(t,e))},_=function(e,t){return e+Math.random()*(t-e)},z={subtract:function(e,t){return{x:e.x-t.x,y:e.y-t.y}},multiply:function(e,t){return{x:e.x*t,y:e.y*t}},length:function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},normalize:function(e){var t=z.length(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}}},X=function(e,t,n){var a=Y(e),r=Y(t),i={l:B(a.l,r.l,n),a:B(a.a,r.a,n),b:B(a.b,r.b,n)},c=G(i);return{r:c.r,g:c.g,b:c.b}},Y=function(e){var t,n,a,r=e.r,i=e.g,c=e.b;return n=(.2126*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.7152*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.0722*(c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92))/1,a=(.0193*r+.1192*i+.9505*c)/1.08883,t=(t=(.4124*r+.3576*i+.1805*c)/.95047)>.008856?Math.pow(t,1/3):7.787*t+16/116,{l:116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,a:500*(t-n),b:200*(n-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))}},G=function(e){var t,n,a,r=(e.l+16)/116,i=e.a/500+r,c=r-e.b/200;return n=-.9689*(i=.95047*(i*i*i>.008856?i*i*i:(i-16/116)/7.787))+1.8758*(r=1*(r*r*r>.008856?r*r*r:(r-16/116)/7.787))+.0415*(c=1.08883*(c*c*c>.008856?c*c*c:(c-16/116)/7.787)),a=.0557*i+-.204*r+1.057*c,t=(t=3.2406*i+-1.5372*r+-.4986*c)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a,{r:Math.max(0,Math.min(1,t)),g:Math.max(0,Math.min(1,n)),b:Math.max(0,Math.min(1,a))}},K={getRandomPosition:function(e){var t=2*Math.random()*Math.PI,n=Math.sqrt(Math.random())*e.radius;return{x:e.center.x+Math.cos(t)*n,y:e.center.y+Math.sin(t)*n}},getRandomEdgePosition:function(e){var t=2*Math.random()*Math.PI,n=e.radius;return{x:e.center.x+Math.cos(t)*n,y:e.center.y+Math.sin(t)*n}},containsPosition:function(e,t){return z.length(z.subtract(t,e.center))<=e.radius}},U={getRandomPosition:function(e){return{x:e.v1.x+Math.random()*(e.v2.x-e.v1.x),y:e.v1.y+Math.random()*(e.v2.y-e.v1.y)}},getRandomEdgePosition:function(e){var t=Math.abs(e.v1.x-e.v2.x),n=Math.abs(e.v1.y-e.v2.y),a=_(0,2*t+2*n);return a<n?{x:e.v1.x,y:e.v1.y+a}:a<t+n?{x:e.v1.x+a-n,y:e.v1.y+n}:a<2*n+t?{x:e.v1.x+t,y:e.v1.y+a-(n+t)}:{x:e.v1.x+a-(2*n+t),y:e.v1.y}},containsPosition:function(e,t){var n=Math.min(e.v1.x,e.v2.x),a=Math.min(e.v1.y,e.v2.y),r=Math.max(e.v1.x,e.v2.x),i=Math.max(e.v1.y,e.v2.y);return t.x>=n&&t.x<=r&&t.y>=a&&t.y<=i}},q={getRandomPosition:function(e){var t=Math.random(),n=Math.random(),a=Math.sqrt(t);return{x:e.v1.x*(1-a)+e.v2.x*(1-n)*a+e.v3.x*n*a,y:e.v1.y*(1-a)+e.v2.y*(1-n)*a+e.v3.y*n*a}},containsPosition:function(e,t){var n=J(t,e.v1,e.v2),a=J(t,e.v2,e.v3),r=J(t,e.v3,e.v1);return!((n<0||a<0||r<0)&&(n>0||a>0||r>0))},getRandomEdgePosition:function(e){throw new Error("Function not implemented.")}},J=function(e,t,n){return(e.x-n.x)*(t.y-n.y)-(t.x-n.x)*(e.y-n.y)},W=function(e){return e},H=function(e){switch(e.type){case"triangle":return q;case"rectangle":return U;case"circle":return K}},Q=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"update",value:function(e){var t,n,a=this.particleEffect.particles.length;if(this.bounds)for(var r=0;r<a;r+=1){var i=this.particleEffect.particles[r];t=this.bounds,n=i.position,H(t).containsPosition(t,n)||this.particleEffect.destroyParticle(i)}}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,bounds:this.bounds&&this.bounds}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"bounds",W,a),r}}]),n}(L);Q.moduleTypeId="OutsideBoundsDestructor";var Z=Object(E.a)((function e(){Object(w.a)(this,e),this.position={x:0,y:0},this.velocity={x:0,y:0},this.color={r:1,g:1,b:1},this.alpha=1,this.rotation=0,this.rotationalVelocity=0,this.timeLived=0,this.lifeTime=2,this.scale=.1,this.destroyed=!1,this.texture=""})),$=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).interval=.1,e._timer=0,e.bursts=[],e._updateCounter=0,e}return Object(E.a)(n,[{key:"update",value:function(e){var t=this,n=this._updateCounter,a=this._updateCounter+e;if(this.bursts.forEach((function(e){var r=void 0===e.repeat||e.repeat<=0||e.time>n?e.time:e.time+e.repeat*Math.ceil((n-e.time)/e.repeat);if(r>=n&&r<=a)for(var i=0;i<e.count;i+=1)t.generateParticle()})),this._updateCounter=a,!(this.interval<=0))for(this._timer+=e;this._timer>=this.interval;)this._timer-=this.interval,this.generateParticle()}}]),n}(L),ee=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).position={x:0,y:0},e}return Object(E.a)(n,[{key:"generateParticle",value:function(){var e=new Z;e.position.x=this.position.x,e.position.y=this.position.y,this.particleEffect.addParticle(e)}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,interval:this.interval,bursts:this.bursts,position:this.position}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"interval",F,a),D(t,n,r,"bursts",F,a),D(t,n,r,"position",F,a),r}}]),n}($);ee.moduleTypeId="PointGenerator";var te=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).min=0,e.max=1,e.handleParticleAdd=function(t){t.alpha=_(e.min,e.max)},e}return Object(E.a)(n,[{key:"init",value:function(){this.active=!1,this.particleEffect.addParticleListeners.push(this.handleParticleAdd)}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,min:this.min,max:this.max}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"min",F,a),D(t,n,r,"max",F,a),r}}]),n}(L);te.moduleTypeId="AlphaRange";var ne=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).min=1.5,e.max=2.5,e.handleParticleAdd=function(t){t.lifeTime=B(e.min,e.max,Math.random())},e}return Object(E.a)(n,[{key:"init",value:function(){this.active=!1,this.particleEffect.addParticleListeners.push(this.handleParticleAdd)}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,min:this.min,max:this.max}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"min",F,a),D(t,n,r,"max",F,a),r}}]),n}(L);ne.moduleTypeId="LifeTimeRange";var ae=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).min=0,e.max=100,e.handleParticleAdd=function(t){var n=2*Math.random()*Math.PI,a=_(e.min,e.max);t.velocity.x=Math.cos(n)*a,t.velocity.y=Math.sin(n)*a},e}return Object(E.a)(n,[{key:"init",value:function(){this.particleEffect.addParticleListeners.push(this.handleParticleAdd)}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,min:this.min,max:this.max}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"min",F,a),D(t,n,r,"max",F,a),r}}]),n}(L);ae.moduleTypeId="RandomAngleVelocity";var re=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).min=.5,e.max=1.5,e.handleParticleAdd=function(t){t.scale=B(e.min,e.max,Math.random())},e}return Object(E.a)(n,[{key:"init",value:function(){this.particleEffect.addParticleListeners.push(this.handleParticleAdd),this.active=!1}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,min:this.min,max:this.max}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"min",F,a),D(t,n,r,"max",F,a),r}}]),n}(L);re.moduleTypeId="RandomScale";var ie=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).palette=[{r:1,g:0,b:0},{r:0,g:1,b:0},{r:0,g:0,b:1}],e.interpolate=!0,e.handleParticleAdd=function(t){if(e.interpolate&&e.palette.length>=2){var n=Math.random()*(e.palette.length-1),a=Math.floor(n),r=e.palette[a],i=e.palette[a+1];t.color=X(r,i,n-a)}else e.palette.length>=1&&(t.color=e.palette[Math.round(Math.random()*(e.palette.length-1))])},e}return Object(E.a)(n,[{key:"init",value:function(){this.particleEffect.addParticleListeners.push(this.handleParticleAdd),this.active=!1}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,palette:this.palette,interpolate:this.interpolate}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"palette",F,a),D(t,n,r,"interpolate",F,a),r}}]),n}(L);ie.moduleTypeId="RandomColor";var ce=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).min=-2*Math.PI,e.max=2*Math.PI,e.handleParticleAdd=function(t){t.rotationalVelocity=B(e.min,e.max,Math.random())},e}return Object(E.a)(n,[{key:"init",value:function(){this.particleEffect.addParticleListeners.push(this.handleParticleAdd),this.active=!1}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,min:this.min,max:this.max}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"min",F,a),D(t,n,r,"max",F,a),r}}]),n}(L);ce.moduleTypeId="RandomRotationalVelocity";var oe=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).randomX={min:-100,max:100},e.randomY={min:-100,max:100},e.handleParticleAdd=function(t){t.velocity.x=B(e.randomX.min,e.randomX.max,Math.random()),t.velocity.y=B(e.randomY.min,e.randomY.max,Math.random())},e}return Object(E.a)(n,[{key:"init",value:function(){this.particleEffect.addParticleListeners.push(this.handleParticleAdd)}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,randomX:this.randomX,randomY:this.randomY}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"randomX",F,a),D(t,n,r,"randomY",F,a),r}}]),n}(L);oe.moduleTypeId="RandomVelocity";var se={linear:function(e){return e},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeOutBack:function(e){var t=1.70158;return 1+2.70158*Math.pow(e-1,3)+t*Math.pow(e-1,2)},easeOutElastic:function(e){var t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1}},le=function(e){var t=Object.entries(se).find((function(t){return t[1]===e}));if(!t)throw new Error("serializeEasing supplied value is not an EasingFunction");return t[0]},ue=function(e){if("string"===typeof e){var t=Object.entries(se).find((function(t){return t[0]===e}));return t?t[1]:void 0}},de=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).easing=se.easeOutSine,e}return Object(E.a)(n,[{key:"update",value:function(e){for(var t=this.particleEffect.particles,n=t.length,a=0;a<n;a+=1){var r=t[a],i=1-this.easing(V(r.timeLived/r.lifeTime,0,1));r.alpha=i}}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,easing:le(this.easing)}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"easing",ue,a),r}}]),n}(L);de.moduleTypeId="AlphaOverLifetime";var fe=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).easing=se.easeOutSine,e.handleParticleAdd=function(e){e._velocityOverLifetime_initialVelocity={x:e.velocity.x,y:e.velocity.y}},e}return Object(E.a)(n,[{key:"init",value:function(){this.particleEffect.addParticleListeners.push(this.handleParticleAdd)}},{key:"update",value:function(e){for(var t=this.particleEffect.particles,n=t.length,a=0;a<n;a+=1){var r=t[a],i=(r.timeLived-e)/r.lifeTime,c=r.timeLived/r.lifeTime,o=this.easing(i),s=this.easing(c),l=r._velocityOverLifetime_initialVelocity,u=z.multiply(l,s-o);r.velocity.x-=u.x,r.velocity.y-=u.y}}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,easing:ue(this.easing)}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"easing",ue,a),r}}]),n}(L);fe.moduleTypeId="DeaccelerationOverLifetime";var he=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).strength=100,e}return Object(E.a)(n,[{key:"update",value:function(e){var t=this;this.particleEffect.particles.forEach((function(n){n.velocity.y+=t.strength*e}))}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,strength:this.strength}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"strength",F,a),r}}]),n}(L);he.moduleTypeId="Gravity";var pe=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).center={x:0,y:0},e.radius=50,e.nextParticleAngle=0,e.angleStep=.5,e}return Object(E.a)(n,[{key:"generateParticle",value:function(){var e=new Z;e.position.x=this.center.x+Math.cos(this.nextParticleAngle)*this.radius,e.position.y=this.center.y+Math.sin(this.nextParticleAngle)*this.radius,this.nextParticleAngle+=this.angleStep,this.particleEffect.addParticle(e)}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,interval:this.interval,bursts:this.bursts,center:this.center,radius:this.radius,nextParticleAngle:this.nextParticleAngle,angleStep:this.angleStep}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"interval",F,a),D(t,n,r,"bursts",F,a),D(t,n,r,"center",F,a),D(t,n,r,"radius",F,a),D(t,n,r,"nextParticleAngle",F,a),D(t,n,r,"angleStep",F,a),r}}]),n}($);pe.moduleTypeId="CircleLoadingGenerator";var me=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).edgesOnly=!1,e}return Object(E.a)(n,[{key:"generateParticle",value:function(){var e,t=new Z;this.shape&&(this.edgesOnly?t.position=(e=this.shape,H(e).getRandomEdgePosition(e)):t.position=function(e){return H(e).getRandomPosition(e)}(this.shape)),this.particleEffect.addParticle(t)}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,interval:this.interval,bursts:this.bursts,shape:this.shape?this.shape:void 0,edgesOnly:this.edgesOnly}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"interval",F,a),D(t,n,r,"shape",W,a),D(t,n,r,"edgesOnly",F,a),r}}]),n}($);me.moduleTypeId="ShapeGenerator";var be=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(w.a)(this,n),(e=t.apply(this,arguments)).strength=100,e.center={x:0,y:0},e.maxPullStrengthDistance=100,e.maxPullStrengthMultiplier=1,e.minPullStrengthDistance=500,e.minPullStrengthMultiplier=.25,e}return Object(E.a)(n,[{key:"update",value:function(e){var t=this,n=this.center;this.particleEffect.particles.forEach((function(a){var r=z.subtract(n,a.position),i=z.length(r),c=B(t.minPullStrengthMultiplier,t.maxPullStrengthMultiplier,V((i-t.minPullStrengthDistance)/(t.maxPullStrengthDistance-t.minPullStrengthDistance),0,1)),o=e*t.strength*c,s=z.normalize(r);a.velocity.x+=s.x*o,a.velocity.y+=s.y*o}))}},{key:"toObject",value:function(){return{moduleTypeId:n.moduleTypeId,strength:this.strength,center:this.center,maxPullStrengthDistance:this.maxPullStrengthDistance,maxPullStrengthMultiplier:this.maxPullStrengthMultiplier,minPullStrengthDistance:this.minPullStrengthDistance,minPullStrengthMultiplier:this.minPullStrengthMultiplier}}}],[{key:"fromObject",value:function(e,t,a){var r=new n(e);return D(t,n,r,"strength",F,a),D(t,n,r,"center",F,a),D(t,n,r,"maxPullStrengthDistance",F,a),D(t,n,r,"maxPullStrengthMultiplier",F,a),D(t,n,r,"minPullStrengthDistance",F,a),D(t,n,r,"minPullStrengthMultiplier",F,a),r}}]),n}(L);be.moduleTypeId="GravityWithCenter";var ve=[A,R,Q,ee,te,ne,ae,oe,de,fe,he,re,ie,ce,pe,me,be],je=function(){function e(t){Object(w.a)(this,e),this.modules=[],this.particles=[],this.isInitialized=!1,this.textures=[],this.addParticleListeners=[],this.destroyParticleListeners=[],this.particleSystem=t}return Object(E.a)(e,[{key:"init",value:function(){this.modules.forEach((function(e){e.init()}))}},{key:"update",value:function(e){for(var t=this.particles.length,n=0;n<t;n+=1){var a=this.particles[n];a.timeLived+=e,a.position.x+=a.velocity.x*e,a.position.y+=a.velocity.y*e,a.rotation+=a.rotationalVelocity*e}this.modules.forEach((function(t){t.active&&t.update(e)}));for(var r=0;r<this.particles.length;r+=1){this.particles[r].destroyed&&(this.particles.splice(r,1),r-=1)}}},{key:"addParticle",value:function(e){this.particles.push(e),this.textures.length>0&&(e.texture=this.textures[Math.round(Math.random()*(this.textures.length-1))]),this.addParticleListeners.forEach((function(t){t(e)}))}},{key:"destroyParticle",value:function(e){e.destroyed=!0,this.destroyParticleListeners.forEach((function(t){t(e)}))}}]),e}(),ye=function(){function e(){Object(w.a)(this,e),this.effects=[],this.addParticleEffectListeners=[],this.removeParticleEffectListeners=[]}return Object(E.a)(e,[{key:"update",value:function(e){this.effects.forEach((function(t){t.isInitialized||(t.init(),t.isInitialized=!0),t.update(e)}))}},{key:"addParticleEffect",value:function(){var e=new je(this);return this.effects.push(e),this.addParticleEffectListeners.forEach((function(t){return t(e)})),e}},{key:"removeParticleEffect",value:function(e){var t=this.effects.indexOf(e);t<=0&&(this.effects.splice(t,1),this.removeParticleEffectListeners.forEach((function(t){return t(e)})))}},{key:"toObject",value:function(){return{effects:this.effects.map((function(e){return{textures:e.textures,modules:e.modules.map((function(e){return e.toObject()}))}}))}}}],[{key:"fromObject",value:function(t,n){var a=(null===n||void 0===n?void 0:n.hideWarnings)||!1,r=new e;return t.effects.forEach((function(e){var t,n=r.addParticleEffect();n.textures=e.textures,null===(t=e.modules)||void 0===t||t.forEach((function(e){var t=ve.find((function(t){return t.moduleTypeId===e.moduleTypeId}));if(t){var r=t.fromObject(n,e,a);n.modules.push(r)}else a||console.warn('ParticleSystem.fromObject unidentified module type: "'.concat(e.moduleTypeId,'"'))}))})),r}}]),e}(),Oe=function(e){var t=e.effects,n=Object(a.useState)(void 0),r=Object(u.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(!1),s=Object(u.a)(o,2),l=s[0],d=s[1];return Object(a.useEffect)((function(){var e=document.getElementById("particleSandbox"),t=new I.a({resizeTo:e,backgroundAlpha:0});e.appendChild(t.view),t.view.height=e.clientHeight;var n=[],a=new Map,r=function(e,r){var i=n.pop();i||((i=new I.d).blendMode=I.b.ADD,i.anchor.x=.5,i.anchor.y=.5,t.stage.addChild(i)),i.visible=!0,a.set(r,i)},i=function(e){var t=a.get(e);t&&(t.visible=!1,a.delete(e),n.push(t))};return c({app:t,registerParticleEffect:function(e,t){e.addParticleListeners.push((function(e){return r(t,e)})),e.destroyParticleListeners.push((function(e){return i(e)}))},updateRendering:function(){var e=t.view.width,n=t.view.height,r=e/2,i=n/2;a.forEach((function(e,t){e.x=r+t.position.x,e.y=i+t.position.y,e.scale.x=t.scale,e.scale.y=t.scale,e.alpha=t.alpha,e.tint=I.e.rgb2hex([t.color.r,t.color.g,t.color.b]),e.rotation=t.rotation,e.texture=I.e.TextureCache[t.texture]}))},reset:function(){Array.from(a.keys()).forEach(i)}}),function(){t.destroy(!0)}}),[]),Object(a.useEffect)((function(){var e;if(i){var n=i.app,a=i.updateRendering,r=i.registerParticleEffect;(0,i.reset)();var c=ye.fromObject({effects:t},{hideWarnings:!0});c.effects.forEach((function(e,n){return r(e,t[n])}));var o=function(){var e=n.ticker.elapsedMS/1e3;c.update(e),a()};return null===(e=n.ticker)||void 0===e||e.add(o),function(){var e;null===(e=n.ticker)||void 0===e||e.remove(o)}}}),[t,i]),Object(a.useEffect)((function(){var e=setTimeout((function(){d(!0)}),2e3);return function(){return clearTimeout(e)}}),[]),Object(h.jsxs)("div",{className:"particleSandbox",children:[Object(h.jsx)("div",{className:"particleSandbox-gridColumns",children:new Array(10).fill(0).map((function(e,t){return Object(h.jsx)("div",{className:"particleSandbox-gridColumn"},"col".concat(t))}))}),Object(h.jsx)("div",{className:"particleSandbox-gridRows",children:new Array(10).fill(0).map((function(e,t){return Object(h.jsx)("div",{className:"particleSandbox-gridRow"},"col".concat(t))}))}),Object(h.jsx)("div",{className:"particleSandbox-canvas",id:"particleSandbox"}),Object(h.jsxs)("div",{className:"particleSandbox-devNotification ".concat(l?"particleSandbox-devNotification-active":""),onClick:function(){return d(!1)},children:[Object(h.jsx)("p",{children:Object(h.jsx)("b",{children:"Work in progress!"})}),Object(h.jsx)("p",{children:"Some features are still unimplemented."})]})]})},xe=(n(53),{particleModules:[],easingFunctions:[],availableTextures:{},presetEffects:[]}),ge=Object(a.createContext)(xe),Pe=[{textures:["generic/ball.png"],modules:[{moduleTypeId:"PointGenerator"},{moduleTypeId:"RandomAngleVelocity",min:50,max:100},{moduleTypeId:"RandomScale",min:.5,max:.8},{moduleTypeId:"RandomColor"},{moduleTypeId:"LifeTimeRange"},{moduleTypeId:"AlphaOverLifetime"},{moduleTypeId:"LifeTimeDestructor"}]}],Te=function(e,t){var n={textures:e.textures,modules:[]};return e.modules.forEach((function(e){var a=Object(l.a)({},e),r=t.find((function(t){return t.moduleTypeId===e.moduleTypeId}));Object.entries(r.properties).forEach((function(t){var n=Object(u.a)(t,2),r=n[0],i=n[1];if(void 0===a[r])if("defaultValue"in i){var c=i.defaultValue;if("Number"===i.type)try{c=Number(c)}catch(o){console.error("Number defaultValue parsing error ".concat(c))}else if("Boolean"===i.type)c="true"===c.toLowerCase();else if("EasingFunction"===i.type){if("string"!==typeof c)throw new Error("defaultValue parsing error ".concat(i.type," (").concat(c,")"))}else{if("Range"!==i.type&&"Burst[]"!==i.type&&"Position"!==i.type&&"Color[]"!==i.type)throw new Error("Unhandled defaultValue type: ".concat(i.type));try{c=JSON.parse(c)}catch(o){console.error("defaultValue parsing error ".concat(i.type," (").concat(c,")"))}}a[r]=c}else console.warn("Missing property @defaultValue ".concat(e.moduleTypeId,": ").concat(r))})),n.modules.push(a)})),n},Ne=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(!0),d=Object(u.a)(c,2),p=d[0],m=d[1],b=Object(a.useContext)(ge).particleModules;Object(a.useEffect)((function(){var e=fetch("config.modularParticleSystem.json").then((function(e){return e.json()})).then((function(e){console.log("loaded core library config");var t=e.particleModules,n=e.easingFunctions;xe.particleModules=t,xe.easingFunctions=n,i(Pe.map((function(e){return Te(e,t)})))})),t=fetch("config.spritesheets.json").then((function(e){return e.json()})).then((function(e){console.log("loaded spritesheet names");var t=I.c.shared;if(!t.resources.spritesheet)return e.forEach((function(e){t.add(e,"sprites/".concat(e))})),t.load(),new Promise((function(e){t.onComplete.once((function(t,n){console.log("loaded spritesheets");var a=Object.values(n).map((function(e){return e.textures})).reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),t)}),{});xe.availableTextures=a,e()}))}))})),n=fetch("config.presetParticleEffects.json").then((function(e){return e.json()})).then((function(e){console.log("loaded preset effects"),xe.presetEffects=e}));Promise.all([e,t,n]).then((function(e){m(!1)}))}),[]);var v=Object(a.useRef)(null);return p?Object(h.jsx)("div",{className:"editor-loading",children:"Loading..."}):Object(h.jsxs)(ge.Provider,{value:xe,children:[Object(h.jsxs)("div",{className:"editor",children:[Object(h.jsx)(M,{restart:function(){i(Object(s.a)(r))},saveToFile:function(){!function(e,t){var n=new Blob([JSON.stringify(e,null,2)],{type:"application/json;charset=utf-8"}),a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}({effects:r.map((function(e){return{textures:e.textures,modules:e.modules}}))},"particleSystem.json")},loadPreset:function(e){i(e.effects)},loadFromFile:function(){var e=v.current;e&&e.click()}}),Object(h.jsxs)("div",{className:"editor-workspace",children:[Object(h.jsx)(Oe,{effects:r}),Object(h.jsx)(k,{effects:r,updateEffects:function(e){e=e.map((function(e){return Te(e,b)})),i(e)}})]})]}),Object(h.jsx)("input",{className:"editor-fileInput",type:"file",ref:v,accept:".json",onChange:function(){var e=Object(o.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.target.files[0],e.next=4,new Response(n).json();case 4:a=e.sent,i(a.effects),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Unexpected error while loading file.\n".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()})]})},ke=(n(54),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))});c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(Ne,{})}),document.getElementById("root")),ke()}},[[55,1,2]]]);
//# sourceMappingURL=main.ef2d9283.chunk.js.map